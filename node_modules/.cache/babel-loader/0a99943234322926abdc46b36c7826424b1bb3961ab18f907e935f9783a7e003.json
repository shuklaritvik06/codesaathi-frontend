{"ast":null,"code":"var _jsxFileName = \"/home/ritvik/codesaathi-frontend/src/pages/Editor.tsx\",\n  _s = $RefreshSig$();\nimport { Controlled as CodeMirror } from \"react-codemirror2\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/material.css\";\nimport \"codemirror/mode/javascript/javascript\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Avatar from \"react-avatar\";\nimport { useEffect, useState } from \"react\";\nimport { FaHamburger, FaShare } from \"react-icons/fa\";\nimport { CiChat2 } from \"react-icons/ci\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { socket } from \"../commons/socketInit\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EditorComponent = () => {\n  _s();\n  const navigate = useNavigate();\n  const [value, setValue] = useState({\n    value: \"\"\n  });\n  const [url, setUrl] = useState(\"\");\n  const [clients, setClients] = useState({});\n  const [room, setRoom] = useState(\"\");\n  const location = useLocation();\n  function handleSendMessage() {\n    const element = document.querySelector(\"#message\");\n    socket.emit(\"chat\", {\n      room,\n      username: location.state.username,\n      message: element.value\n    });\n    element.value = \"\";\n  }\n  async function copyToClipboard(textToCopy) {\n    if (navigator.clipboard && window.isSecureContext) {\n      await navigator.clipboard.writeText(textToCopy);\n    } else {\n      const textArea = document.createElement(\"textarea\");\n      textArea.value = textToCopy;\n      textArea.style.position = \"absolute\";\n      textArea.style.left = \"-999999px\";\n      document.body.prepend(textArea);\n      textArea.select();\n      try {\n        document.execCommand(\"copy\");\n      } catch (error) {\n        console.error(error);\n      } finally {\n        textArea.remove();\n      }\n    }\n  }\n  useEffect(() => {\n    setUrl(window.location.href);\n    setRoom(url.split(\"/\")[4]);\n  }, [url]);\n  useEffect(() => {\n    var _location$state;\n    if (localStorage.getItem(\"code\") !== null) {\n      setValue({\n        value: localStorage.getItem(\"code\")\n      });\n    }\n    if (((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.username) !== undefined) {\n      var _location$state2;\n      socket.emit(\"join\", {\n        roomId: window.location.href.split(\"/\")[4],\n        username: (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.username\n      });\n    } else {\n      navigate(\"/\", {\n        state: {\n          room_id: window.location.href.split(\"/\")[4]\n        }\n      });\n    }\n    socket.on(\"newjoined\", function (_ref) {\n      let {\n        clients,\n        username,\n        socketId\n      } = _ref;\n      setClients(clients);\n      toast.success(`${username} joined the room`);\n    });\n    socket.on(\"disconnected\", function (_ref2) {\n      let {\n        socketId,\n        username\n      } = _ref2;\n      toast.success(`${username} left the room`);\n    });\n    socket.on(\"codechange\", function (_ref3) {\n      let {\n        code\n      } = _ref3;\n      setValue({\n        value: code\n      });\n    });\n    socket.on(\"newchat\", function (_ref4) {\n      var _document$querySelect;\n      let {\n        msg,\n        username,\n        room\n      } = _ref4;\n      var item = document.createElement(\"div\");\n      item.textContent = msg;\n      item.classList.add(\"bg-purple-500\", \"rounded-md\", \"p-4\", \"mx-1\", \"my-2\", \"text-white\", \"relative\");\n      var usernameItem = document.createElement(\"div\");\n      usernameItem.textContent = username;\n      usernameItem.classList.add(\"absolute\", \"bottom-0\", \"text-xs\", \"right-2\", \"text-white\");\n      item.appendChild(usernameItem);\n      (_document$querySelect = document.querySelector(\"#chat\")) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.appendChild(item);\n    });\n    return () => {\n      socket.off(\"newjoined\");\n      socket.off(\"disconnected\");\n      socket.off(\"newchat\");\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CodeMirror, {\n      editorDidMount: editor => {\n        editor.setSize(\"100vw\", \"100vh\");\n      },\n      value: value.value,\n      options: {\n        mode: {\n          name: \"javascript\",\n          json: true\n        },\n        theme: \"material\",\n        lineNumbers: true,\n        autofocus: true,\n        showCursorWhenSelecting: false,\n        lineWrapping: true\n      },\n      onBeforeChange: (editor, data, value) => {\n        setValue({\n          value\n        });\n      },\n      onChange: (editor, data, value) => {\n        socket.emit(\"newcode\", {\n          roomId: window.location.href.split(\"/\")[4],\n          code: value\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute right-5 top-5\",\n      children: /*#__PURE__*/_jsxDEV(FaHamburger, {\n        size: 30,\n        className: \"text-white cursor-pointer\",\n        onClick: () => {\n          var _document$querySelect2, _document$querySelect3;\n          (_document$querySelect2 = document.querySelector(\"#menu\")) === null || _document$querySelect2 === void 0 ? void 0 : _document$querySelect2.classList.add(\"right-0\");\n          (_document$querySelect3 = document.querySelector(\"#menu\")) === null || _document$querySelect3 === void 0 ? void 0 : _document$querySelect3.classList.remove(\"hidden\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen border-l-2 w-full md:w-[30vw] lg:w-[20vw] bg-white absolute  hidden duration-700 -right-full top-0\",\n      id: \"menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(FaHamburger, {\n          size: 30,\n          className: \"text-[#333] cursor-pointer m-3\",\n          onClick: () => {\n            var _document$querySelect4, _document$querySelect5;\n            (_document$querySelect4 = document.querySelector(\"#menu\")) === null || _document$querySelect4 === void 0 ? void 0 : _document$querySelect4.classList.remove(\"right-0\");\n            (_document$querySelect5 = document.querySelector(\"#menu\")) === null || _document$querySelect5 === void 0 ? void 0 : _document$querySelect5.classList.add(\"hidden\");\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-semibold mx-3 text-[#333]\",\n          children: [\"Code\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-purple-500\",\n            children: \"Saathi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" text-[#393939] p-3 bg-gray-100 border h-28  rounded-md  w-full\",\n          id: \"url\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"overflow-clip\",\n            children: url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-5 right-5 bg-purple-700 cursor-pointer text-white p-2 rounded-md\",\n          onClick: async () => {\n            const element = document.querySelector(\"#url\");\n            await copyToClipboard(element.innerText);\n            toast.success(\"Copied to Clipboard\");\n          },\n          children: /*#__PURE__*/_jsxDEV(FaShare, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-[400px] relative bg-gray-100 border rounded-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-y-scroll h-4/5\",\n            id: \"chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full absolute bottom-3 items-center px-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"w-full p-2 outline-none rounded-md border\",\n              id: \"message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-1 right-2 bg-purple-700 cursor-pointer text-white p-2 rounded-md\",\n              onClick: () => handleSendMessage(),\n              children: /*#__PURE__*/_jsxDEV(CiChat2, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-3 overflow-hidden\",\n        id: \"participants\",\n        children: Object.keys(clients).map(room => {\n          const array = clients[room].map(client => {\n            return Object.keys(client)[0];\n          });\n          return array.map(username => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                color: \"purple\",\n                name: username,\n                size: \"40\",\n                className: \"rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)\n            }, void 0, false);\n          });\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-3 absolute bottom-0 w-full p-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full bg-purple-950 text-white font-bold p-3 rounded-md\",\n          onClick: async () => {\n            const code = url.split(\"/\")[4];\n            await copyToClipboard(code);\n            toast.success(\"Room Code Copied\");\n          },\n          children: \"Copy Room Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full bg-purple-950 text-white font-bold p-3 rounded-md\",\n          onClick: () => {\n            socket.emit(\"leave\");\n            navigate(\"/\");\n          },\n          children: \"Leave Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(EditorComponent, \"hYTgL/LqvKSYXG1n1x56hQFL0DU=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = EditorComponent;\nexport default EditorComponent;\nvar _c;\n$RefreshReg$(_c, \"EditorComponent\");","map":{"version":3,"names":["Controlled","CodeMirror","toast","Toaster","Avatar","useEffect","useState","FaHamburger","FaShare","CiChat2","useLocation","useNavigate","socket","jsxDEV","_jsxDEV","Fragment","_Fragment","EditorComponent","_s","navigate","value","setValue","url","setUrl","clients","setClients","room","setRoom","location","handleSendMessage","element","document","querySelector","emit","username","state","message","copyToClipboard","textToCopy","navigator","clipboard","window","isSecureContext","writeText","textArea","createElement","style","position","left","body","prepend","select","execCommand","error","console","remove","href","split","_location$state","localStorage","getItem","undefined","_location$state2","roomId","room_id","on","_ref","socketId","success","_ref2","_ref3","code","_ref4","_document$querySelect","msg","item","textContent","classList","add","usernameItem","appendChild","off","children","fileName","_jsxFileName","lineNumber","columnNumber","editorDidMount","editor","setSize","options","mode","name","json","theme","lineNumbers","autofocus","showCursorWhenSelecting","lineWrapping","onBeforeChange","data","onChange","className","size","onClick","_document$querySelect2","_document$querySelect3","id","_document$querySelect4","_document$querySelect5","innerText","type","Object","keys","map","array","client","color","_c","$RefreshReg$"],"sources":["/home/ritvik/codesaathi-frontend/src/pages/Editor.tsx"],"sourcesContent":["import { Controlled as CodeMirror } from \"react-codemirror2\";\nimport \"codemirror/lib/codemirror.css\";\nimport \"codemirror/theme/material.css\";\nimport \"codemirror/mode/javascript/javascript\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport Avatar from \"react-avatar\";\n\nimport { FC, useEffect, useState } from \"react\";\nimport { FaHamburger, FaShare } from \"react-icons/fa\";\nimport { CiChat2 } from \"react-icons/ci\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { socket } from \"../commons/socketInit\";\n\ntype EditorClient = {\n  [room: string]: {\n    [username: string]: string;\n  }[];\n};\n\nconst EditorComponent: FC = () => {\n  const navigate = useNavigate();\n  const [value, setValue] = useState({ value: \"\" });\n  const [url, setUrl] = useState(\"\");\n  const [clients, setClients] = useState<EditorClient>({});\n  const [room, setRoom] = useState(\"\");\n  const location = useLocation();\n  function handleSendMessage() {\n    const element = document.querySelector(\"#message\") as HTMLInputElement;\n    socket.emit(\"chat\", {\n      room,\n      username: location.state.username,\n      message: element.value\n    });\n    element.value = \"\";\n  }\n  async function copyToClipboard(textToCopy: string) {\n    if (navigator.clipboard && window.isSecureContext) {\n      await navigator.clipboard.writeText(textToCopy);\n    } else {\n      const textArea = document.createElement(\"textarea\");\n      textArea.value = textToCopy;\n      textArea.style.position = \"absolute\";\n      textArea.style.left = \"-999999px\";\n      document.body.prepend(textArea);\n      textArea.select();\n      try {\n        document.execCommand(\"copy\");\n      } catch (error) {\n        console.error(error);\n      } finally {\n        textArea.remove();\n      }\n    }\n  }\n  useEffect(() => {\n    setUrl(window.location.href);\n    setRoom(url.split(\"/\")[4]);\n  }, [url]);\n  useEffect(() => {\n    if (localStorage.getItem(\"code\") !== null) {\n      setValue({ value: localStorage.getItem(\"code\")! });\n    }\n    if (location.state?.username !== undefined) {\n      socket.emit(\"join\", {\n        roomId: window.location.href.split(\"/\")[4],\n        username: location.state?.username\n      });\n    } else {\n      navigate(\"/\", {\n        state: {\n          room_id: window.location.href.split(\"/\")[4]\n        }\n      });\n    }\n    socket.on(\"newjoined\", function ({ clients, username, socketId }) {\n      setClients(clients);\n      toast.success(`${username} joined the room`);\n    });\n    socket.on(\"disconnected\", function ({ socketId, username }) {\n      toast.success(`${username} left the room`);\n    });\n    socket.on(\"codechange\", function ({ code }) {\n      setValue({\n        value: code\n      });\n    });\n    socket.on(\"newchat\", function ({ msg, username, room }) {\n      var item = document.createElement(\"div\");\n      item.textContent = msg;\n      item.classList.add(\n        \"bg-purple-500\",\n        \"rounded-md\",\n        \"p-4\",\n        \"mx-1\",\n        \"my-2\",\n        \"text-white\",\n        \"relative\"\n      );\n      var usernameItem = document.createElement(\"div\");\n      usernameItem.textContent = username;\n      usernameItem.classList.add(\n        \"absolute\",\n        \"bottom-0\",\n        \"text-xs\",\n        \"right-2\",\n        \"text-white\"\n      );\n      item.appendChild(usernameItem);\n      document.querySelector(\"#chat\")?.appendChild(item);\n    });\n    return () => {\n      socket.off(\"newjoined\");\n      socket.off(\"disconnected\");\n      socket.off(\"newchat\");\n    };\n  }, []);\n  return (\n    <div>\n      <Toaster />\n      <CodeMirror\n        editorDidMount={(editor) => {\n          editor.setSize(\"100vw\", \"100vh\");\n        }}\n        value={value.value}\n        options={{\n          mode: { name: \"javascript\", json: true },\n          theme: \"material\",\n          lineNumbers: true,\n          autofocus: true,\n          showCursorWhenSelecting: false,\n          lineWrapping: true\n        }}\n        onBeforeChange={(editor, data, value) => {\n          setValue({ value });\n        }}\n        onChange={(editor, data, value) => {\n          socket.emit(\"newcode\", {\n            roomId: window.location.href.split(\"/\")[4],\n            code: value\n          });\n        }}\n      />\n      <div className=\"absolute right-5 top-5\">\n        <FaHamburger\n          size={30}\n          className=\"text-white cursor-pointer\"\n          onClick={() => {\n            document.querySelector(\"#menu\")?.classList.add(\"right-0\");\n            document.querySelector(\"#menu\")?.classList.remove(\"hidden\");\n          }}\n        />\n      </div>\n      <div\n        className=\"h-screen border-l-2 w-full md:w-[30vw] lg:w-[20vw] bg-white absolute  hidden duration-700 -right-full top-0\"\n        id=\"menu\"\n      >\n        <div className=\"flex items-center\">\n          <FaHamburger\n            size={30}\n            className=\"text-[#333] cursor-pointer m-3\"\n            onClick={() => {\n              document.querySelector(\"#menu\")?.classList.remove(\"right-0\");\n              document.querySelector(\"#menu\")?.classList.add(\"hidden\");\n            }}\n          />\n          <div className=\"text-2xl font-semibold mx-3 text-[#333]\">\n            Code<span className=\"text-purple-500\">Saathi</span>\n          </div>\n        </div>\n        <div className=\"p-3 relative\">\n          <div\n            className=\" text-[#393939] p-3 bg-gray-100 border h-28  rounded-md  w-full\"\n            id=\"url\"\n          >\n            <p className=\"overflow-clip\">{url}</p>\n          </div>\n          <div\n            className=\"absolute bottom-5 right-5 bg-purple-700 cursor-pointer text-white p-2 rounded-md\"\n            onClick={async () => {\n              const element = document.querySelector(\"#url\") as HTMLElement;\n              await copyToClipboard(element.innerText);\n              toast.success(\"Copied to Clipboard\");\n            }}\n          >\n            <FaShare size={20} />\n          </div>\n        </div>\n        <div className=\"p-3\">\n          <div className=\"w-full h-[400px] relative bg-gray-100 border rounded-md\">\n            <div className=\"overflow-y-scroll h-4/5\" id=\"chat\"></div>\n            <div className=\"w-full absolute bottom-3 items-center px-2\">\n              <input\n                type={\"text\"}\n                className=\"w-full p-2 outline-none rounded-md border\"\n                id=\"message\"\n              />\n              <div\n                className=\"absolute bottom-1 right-2 bg-purple-700 cursor-pointer text-white p-2 rounded-md\"\n                onClick={() => handleSendMessage()}\n              >\n                <CiChat2 size={20} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"mx-3 overflow-hidden\" id=\"participants\">\n          {Object.keys(clients).map((room) => {\n            const array = clients[room].map((client: Object) => {\n              return Object.keys(client)[0];\n            });\n            return array.map((username) => {\n              return (\n                <>\n                  <Avatar\n                    color={\"purple\"}\n                    name={username}\n                    size={\"40\"}\n                    className=\"rounded-full\"\n                  />\n                </>\n              );\n            });\n          })}\n        </div>\n        <div className=\"flex flex-col gap-3 absolute bottom-0 w-full p-3\">\n          <button\n            className=\"w-full bg-purple-950 text-white font-bold p-3 rounded-md\"\n            onClick={async () => {\n              const code = url.split(\"/\")[4];\n              await copyToClipboard(code);\n              toast.success(\"Room Code Copied\");\n            }}\n          >\n            Copy Room Code\n          </button>\n          <button\n            className=\"w-full bg-purple-950 text-white font-bold p-3 rounded-md\"\n            onClick={() => {\n              socket.emit(\"leave\");\n              navigate(\"/\");\n            }}\n          >\n            Leave Room\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditorComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}